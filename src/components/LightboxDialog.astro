---
import CarouselNavButton from "./CarouselNavButton.astro";
import Thumbnail from "./Thumbnail.astro";
---

<dialog class="lightbox" aria-labelledby="lightbox-title">
  <div class="lightbox-content">
    <button class="lightbox-close" aria-label="Close lightbox">
      <svg
        aria-hidden="true"
        focusable="false"
        width="14"
        height="15"
        xmlns="http://www.w3.org/2000/svg"
        ><path
          d="m11.596.782 2.122 2.122L9.12 7.499l4.597 4.597-2.122 2.122L7 9.62l-4.595 4.597-2.122-2.122L4.878 7.5.282 2.904 2.404.782l4.595 4.596L11.596.782Z"
          fill="#ffffff"
          fill-rule="evenodd"></path></svg
      >
    </button>
    <h2 id="lightbox-title" class="visually-hidden">
      Product Image Gallery in Lightbox
    </h2>

    <div class="lightbox-carousel" aria-live="polite">
      <CarouselNavButton
        direction="previous"
        hideOnDesktop={false}
        transform="-150%"
        position="-1.625rem"
        label="lightbox"
      />

      <img
        class="lightbox-main-image"
        src="/assets/images/image-product-1.jpg"
        alt="1. A single beige and white sneaker with its sole facing upwards, set against a dual-tone background with orange at the top and yellow at the bottom."
        data-number="1"
        aria-live="polite"
      />

      <CarouselNavButton
        direction="next"
        hideOnDesktop={false}
        transform="-150%"
        position="-1.625rem"
        label="lightbox"
      />
    </div>

    <Thumbnail />
  </div>
</dialog>

<style lang="scss">
  @use "../styles/abstracts/" as *;

  .lightbox {
    border: 0;
    background: none;
    padding: $size-13;

    &::backdrop {
      background: rgb(0 0 0 / 75%);
    }

    &-content {
      position: relative;
      display: flex;
      flex-direction: column;
      gap: $size-10;
    }

    &-close {
      position: absolute;
      right: 0;
      transform: translateY(-150%);
      width: 32px;
      height: 32px;

      &:is(:hover, :focus) path {
        fill: $color-primary-500;
      }

      &:focus-visible {
        outline: 6px dotted $color-neutral-100;
        border-radius: 100vh;
      }
    }

    & .lightbox-main-image {
      width: 550px;
      height: 550px;
      object-fit: cover;
      border-radius: $border-radius-2;
    }
  }
</style>
